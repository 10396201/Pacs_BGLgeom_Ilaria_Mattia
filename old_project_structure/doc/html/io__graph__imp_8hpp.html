<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BGL Interface: include/io_graph_imp.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>include/io_graph_imp.hpp File Reference</h1>
<p>Definition of functions related to input and output of the graph.  
<a href="#_details">More...</a></p>

<p><a href="io__graph__imp_8hpp_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memTemplParams" colspan="2"><a class="anchor" id="ae6c267eee83d36eb093630f97a7727a0"></a><!-- doxytag: member="io_graph_imp.hpp::read_Formaggia_format" ref="ae6c267eee83d36eb093630f97a7727a0" args="(Graph &amp;G, std::string file_name)" -->
template&lt;typename Graph &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><b>read_Formaggia_format</b> (Graph &amp;G, std::string file_name)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename Graph &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">boost::graph_traits&lt; Graph &gt;<br class="typebreak"/>
::vertex_descriptor&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="io__graph__imp_8hpp.html#af9e99050d5dc188308a06e263f5f0734">vertex_insertion_or_identification</a> (Graph &amp;G, point&lt; 2 &gt; const &amp;P)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function for read_Formaggia_format.  <a href="#af9e99050d5dc188308a06e263f5f0734"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename Graph &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="io__graph__imp_8hpp.html#a94cf30803f090f25893b56f7e4d5ee71">check_for_intersections</a> (std::vector&lt; std::pair&lt; point&lt; 2 &gt;, typename boost::graph_traits&lt; Graph &gt;::edge_descriptor &gt; &gt; &amp;vect, point&lt; 2 &gt; const &amp;SRC, point&lt; 2 &gt; const &amp;TGT, Graph const &amp;G)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function for read_Formaggia_format.  <a href="#a94cf30803f090f25893b56f7e4d5ee71"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename Graph , bool src_less_than_tgt&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="io__graph__imp_8hpp.html#ac1e2c5a4da2bb9a065a62edee3307dfd">compare</a> (std::pair&lt; point&lt; 2 &gt;, typename boost::graph_traits&lt; Graph &gt;::edge_descriptor &gt; pair1, std::pair&lt; point&lt; 2 &gt;, typename boost::graph_traits&lt; Graph &gt;::edge_descriptor &gt; pair2)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function for check_for intersection.  <a href="#ac1e2c5a4da2bb9a065a62edee3307dfd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::pair&lt; bool, point&lt; 2 &gt; &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="io__graph__imp_8hpp.html#adb2201a64aba745c13af37639fa1660f">are_intersected</a> (std::pair&lt; point&lt; 2 &gt;, point&lt; 2 &gt; &gt; line1, std::pair&lt; point&lt; 2 &gt;, point&lt; 2 &gt; &gt; line2)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">helper function for check_for_intersection  <a href="#adb2201a64aba745c13af37639fa1660f"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename Graph &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="io__graph__imp_8hpp.html#a264e7d9a57840e37b36b6649c3964c25">refine_graph</a> (Graph &amp;G, typename std::vector&lt; std::pair&lt; point&lt; 2 &gt;, typename boost::graph_traits&lt; Graph &gt;::edge_descriptor &gt; &gt; const &amp;vect, int frac_number, typename boost::graph_traits&lt; Graph &gt;::vertex_descriptor src, typename boost::graph_traits&lt; Graph &gt;::vertex_descriptor tgt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function for read_Formaggia_format.  <a href="#a264e7d9a57840e37b36b6649c3964c25"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Definition of functions related to input and output of the graph. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Ilaria Speranza &amp; Mattia Tantardini </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>Sept, 2016 </dd></dl>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="adb2201a64aba745c13af37639fa1660f"></a><!-- doxytag: member="io_graph_imp.hpp::are_intersected" ref="adb2201a64aba745c13af37639fa1660f" args="(std::pair&lt; point&lt; 2 &gt;, point&lt; 2 &gt; &gt; line1, std::pair&lt; point&lt; 2 &gt;, point&lt; 2 &gt; &gt; line2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt;bool, point&lt;2&gt; &gt; are_intersected </td>
          <td>(</td>
          <td class="paramtype">std::pair&lt; point&lt; 2 &gt;, point&lt; 2 &gt; &gt;&nbsp;</td>
          <td class="paramname"> <em>line1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::pair&lt; point&lt; 2 &gt;, point&lt; 2 &gt; &gt;&nbsp;</td>
          <td class="paramname"> <em>line2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>helper function for check_for_intersection </p>
<p>we assume the fractures can only be vertical or horizontal. It compute the coordinates of the intersection point, if present. </p>

</div>
</div>
<a class="anchor" id="a94cf30803f090f25893b56f7e4d5ee71"></a><!-- doxytag: member="io_graph_imp.hpp::check_for_intersections" ref="a94cf30803f090f25893b56f7e4d5ee71" args="(std::vector&lt; std::pair&lt; point&lt; 2 &gt;, typename boost::graph_traits&lt; Graph &gt;::edge_descriptor &gt; &gt; &amp;vect, point&lt; 2 &gt; const &amp;SRC, point&lt; 2 &gt; const &amp;TGT, Graph const &amp;G)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Graph &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void check_for_intersections </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::pair&lt; point&lt; 2 &gt;, typename boost::graph_traits&lt; Graph &gt;::edge_descriptor &gt; &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">point&lt; 2 &gt; const &amp;&nbsp;</td>
          <td class="paramname"> <em>SRC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">point&lt; 2 &gt; const &amp;&nbsp;</td>
          <td class="paramname"> <em>TGT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Graph const &amp;&nbsp;</td>
          <td class="paramname"> <em>G</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function for read_Formaggia_format. </p>
<p>This function checks if two lines (fractures) are intersected. If yes, it creates a vector with all the intersection points already ordered with the right direction (from source to target vertex)</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>vect</em>&nbsp;</td><td>The vector that will be filled with the intersection points of each new edge </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SRC</em>&nbsp;</td><td>Source vertex of the current edge </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TGT</em>&nbsp;</td><td>Target vertex of the current edge </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>G</em>&nbsp;</td><td>Graph </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="ac1e2c5a4da2bb9a065a62edee3307dfd"></a><!-- doxytag: member="io_graph_imp.hpp::compare" ref="ac1e2c5a4da2bb9a065a62edee3307dfd" args="(std::pair&lt; point&lt; 2 &gt;, typename boost::graph_traits&lt; Graph &gt;::edge_descriptor &gt; pair1, std::pair&lt; point&lt; 2 &gt;, typename boost::graph_traits&lt; Graph &gt;::edge_descriptor &gt; pair2)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Graph , bool src_less_than_tgt&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool compare </td>
          <td>(</td>
          <td class="paramtype">std::pair&lt; point&lt; 2 &gt;, typename boost::graph_traits&lt; Graph &gt;::edge_descriptor &gt;&nbsp;</td>
          <td class="paramname"> <em>pair1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::pair&lt; point&lt; 2 &gt;, typename boost::graph_traits&lt; Graph &gt;::edge_descriptor &gt;&nbsp;</td>
          <td class="paramname"> <em>pair2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function for check_for intersection. </p>
<p>Given a couple of points, this function orders the intersection points according to the template parameter src_less_than_tgt. The ordering is needed in order to craete the new edges in the right way, preserving the direction of the fractures.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pair1</em>&nbsp;</td><td>It is the intersection point between the current edge and the edge described by the second component of the pair </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pair2</em>&nbsp;</td><td>It is the intersection point between the current edge and the edge described by the second component of the pair </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>bool </dd></dl>

</div>
</div>
<a class="anchor" id="a264e7d9a57840e37b36b6649c3964c25"></a><!-- doxytag: member="io_graph_imp.hpp::refine_graph" ref="a264e7d9a57840e37b36b6649c3964c25" args="(Graph &amp;G, typename std::vector&lt; std::pair&lt; point&lt; 2 &gt;, typename boost::graph_traits&lt; Graph &gt;::edge_descriptor &gt; &gt; const &amp;vect, int frac_number, typename boost::graph_traits&lt; Graph &gt;::vertex_descriptor src, typename boost::graph_traits&lt; Graph &gt;::vertex_descriptor tgt)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Graph &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void refine_graph </td>
          <td>(</td>
          <td class="paramtype">Graph &amp;&nbsp;</td>
          <td class="paramname"> <em>G</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename std::vector&lt; std::pair&lt; point&lt; 2 &gt;, typename boost::graph_traits&lt; Graph &gt;::edge_descriptor &gt; &gt; const &amp;&nbsp;</td>
          <td class="paramname"> <em>vect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>frac_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename boost::graph_traits&lt; Graph &gt;::vertex_descriptor&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename boost::graph_traits&lt; Graph &gt;::vertex_descriptor&nbsp;</td>
          <td class="paramname"> <em>tgt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function for read_Formaggia_format. </p>
<p>This function breaks old edges to create a refined graph according to the intersection points found while inserting the current edge. It preserves the fracture number of each old edge while creating the new ones.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>G</em>&nbsp;</td><td>Graph </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vect</em>&nbsp;</td><td>The vector of the intersection points </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>frac_number</em>&nbsp;</td><td>The fracture number of the current edge </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>src</em>&nbsp;</td><td>Vertex descriptor of the source of the current edge </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tgt</em>&nbsp;</td><td>Vertex descriptor of the target of the current edge </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="af9e99050d5dc188308a06e263f5f0734"></a><!-- doxytag: member="io_graph_imp.hpp::vertex_insertion_or_identification" ref="af9e99050d5dc188308a06e263f5f0734" args="(Graph &amp;G, point&lt; 2 &gt; const &amp;P)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Graph &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">boost::graph_traits&lt;Graph&gt;::vertex_descriptor vertex_insertion_or_identification </td>
          <td>(</td>
          <td class="paramtype">Graph &amp;&nbsp;</td>
          <td class="paramname"> <em>G</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">point&lt; 2 &gt; const &amp;&nbsp;</td>
          <td class="paramname"> <em>P</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function for read_Formaggia_format. </p>
<p>The function checks if the vertex we are trying to insert is already present in the graph, (in this case it will be ignored) or if it isn't already present (in this case it will be inserted).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>G</em>&nbsp;</td><td>Graph we are constructing </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>P</em>&nbsp;</td><td>Point we want to check if is present or not </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>vertex_descriptor </dd></dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 24 Oct 2016 for BGL Interface by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
